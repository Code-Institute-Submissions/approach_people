{% extends 'base.html'%}
{% block content %}
<h1>Edit Job</h1>
<div class="container">
<div class="row">
    <form action="{{ url_for('update_job', job_id=job._id) }}" method="POST" class="col s12">
    <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">business_center</i>
          <select id="category_name" name="category_name">
          <option value="" disabled selected>Choose Sector</option>
            {% for cat in categories %}
                      {% if cat.category_name == job.category_name %}  
                        <option value="{{cat.category_name}}" selected>{{cat.category_name}}</option>
                      {% else %}
                        <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                      {% endif %}
            {% endfor %}
        </select>
          <label for="sector">Sector</label>
        </div>
       </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">business</i>
          <input id="company_name" name="company_name" type="text" class="validate" value="{{job.company_name}}">
          <label for="company_name">Company Name</label>
        </div>
       </div>
       <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">account_circle</i>
          <input id="job_title" name="job_title" type="text" class="validate" value="{{job.job_title}}">
          <label for="job_title">Job Title</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">attach_money</i>
          <input id="job_salary" name="job_salary" type="text" class="validate" value="{{job.job_salary}}">
          <label for="job_salary">Job Salary (Yearly)</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">email</i>
          <input id="email" name="email" type="email" class="validate" value="{{job.email}}">
          <label for="email">Email</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">phone</i>
          <input id="telephone" name="telephone" type="tel" class="validate" value="{{job.telephone}}">
          <label for="icon_telephone">Telephone</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">assignment</i>
          <textarea id="textarea1" name="job_description" class="materialize-textarea">{{job.job_description}}</textarea>
          <label for="textarea1">Job Description</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">assignment</i>
          <textarea id="textarea2" name="requirements" class="materialize-textarea">{{job.requirements}}</textarea>
          <label for="textarea1">Requirements</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">business_center</i>
          <select id="employment_type" name="employment_type">
          <option value="{{job.employment_type}}" disabled selected>Choose Employment Type</option>
                      <option value="Full Time">Full Time</option>
                      <option value="Part Time">Part Time</option>
        </select>
          <label for="sector">Sector</label>
        </div>
       </div>
      <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">add_location</i>
          <input id="job_location" name="job_location" type="text" class="validate" value="{{job.job_location}}">
          <label for="job_location">Job Location</label>
        </div>
      </div>
      <div class="row">
            <div class="input-field col s6">
                <i class="material-icons prefix">today</i>
                <input id="posted_date" name="posted_date" type="text" class="datepicker" value="{{job.posted_date}}">
                <label for="icon_prefix">Date Posted</label>
            </div>
        
            <div class="input-field col s6">
                <i class="material-icons prefix">today</i>
                <input id="due_date" name="due_date" type="text" class="datepicker" value="{{job.due_date}}">
                <label for="icon_prefix">Due Date</label>
            </div>
        </div>
        <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">account_circle</i>
          <input id="posted_by" name="posted_by" type="text" class="validate" value="{{job.posted_by}}">
          <label for="posted_by">Posted By</label>
        </div>
      </div>
       <div class="row">
        <div class="input-field col s12">
        <i class="material-icons prefix">insert_link</i>
          <input id="image_url" name="image_url" type="text" class="validate" value="{{job.image_url}}">
          <label for="image_url">Logo URL</label>
        </div>
      </div>
      <div class="row">
            <button class="btn btn-info" type="submit" name="action">Edit Job
            <i class="material-icons right">playlist_add</i>
            </button>
        </div>
    </form>
  </div>
  </div>
{% endblock %}